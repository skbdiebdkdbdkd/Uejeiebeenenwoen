local Players = game.Players
local player = Players.LocalPlayer
local Run = game:GetService("RunService")


local is_idle = false
local is_Move = false
local is_Jump = false
local is_fall = false

local Speed = 0

local rig = Players:CreateHumanoidModelFromUserId(player.UserId)
local rigHRP = rig:FindFirstChild("HumanoidRootPart")
local rigHumanoid = rig:FindFirstChild("Humanoid")
if rigHRP then
  rigHRP.CFrame = player.Character:FindFirstChild("HumanoidRootPart").CFrame
end
rig.Parent = game.Workspace

for _, obj in ipairs(rig:GetDescendants()) do
  if obj:IsA("BasePart") then
    obj.Transparency = 1
  end
end


task.spawn(function()
  Run.Heartbeat:Connect(function(deltaT)
    local Char = player.Character
    if Char and Char ~= rig then
      wait(0.1)
      if Char:FindFirstChildOfClass("Humanoid") then
        Char:FindFirstChildOfClass("Humanoid").Health = 0
        
        player.Character = rig
        game.Workspace.CurrentCamera.CameraSubject = rig:FindFirstChild("Head")
        
        local RealChar = game.Workspace:FindFirstChild(player.Name)
        if RealChar then
          local RealcharHRP = RealChar:FindFirstChild("HumanoidRootPart")
          if RealcharHRP then
            RealcharHRP.CFrame = rig:FindFirstChild("HumanoidRootPart").CFrame * CFrame.new(40,40,40)
          end
        end
      end
   end
    Run.Heartbeat:Wait()
  end)
end)


task.spawn(function()
  Run.Heartbeat:Connect(function(delta)
    local RealChar = game.Workspace:FindFirstChild(player.Name)
    if RealChar then
      
      local HeadHat = RealChar:FindFirstChild("Accessory (chapeleiroamarelo)")
      local TorsoHat = RealChar:FindFirstChild("Accessory (Black)") 
      local LArm = RealChar:FindFirstChild("Accessory (LArm)") 
      local RArm = RealChar:FindFirstChild("Accessory (RArm)") 
      local LLeg = RealChar:FindFirstChild("Accessory (LLeg)") 
      local RLeg = RealChar:FindFirstChild("Accessory (RLeg)")
      if HeadHat then
        if TorsoHat then
          if LArm then
            if RArm then
              if LLeg then
                if RLeg then
      
      local HeadHandle = HeadHat:FindFirstChild("Handle")
      local TorsoHandle = TorsoHat:FindFirstChild("Handle")
      local LArmHandle = LArm:FindFirstChild("Handle")
      local RArmHandle = RArm:FindFirstChild("Handle")
      local LLegHandle = LLeg:FindFirstChild("Handle")
      local RLegHandle = RLeg:FindFirstChild("Handle")
      
      
        
        local Headweld = HeadHandle:FindFirstChild("HatAttachment")
        local Torsoweld = TorsoHandle:FindFirstChild("HatAttachment")
        local LArmweld = LArmHandle:FindFirstChild("LeftShoulderAttachment")
        local RArmweld = RArmHandle:FindFirstChild("RightShoulderAttachment")
        local LLegweld = LLegHandle:FindFirstChild("WaistCenterAttachment")
        local RLegmweld = RLegHandle:FindFirstChild("WaistCenterAttachment")
        
        if Headweld then Headweld:Destroy() end
        if Torsoweld then Torsoweld:Destroy() end
        if LArmweld then LArmweld:Destroy() end
        if RArmweld then RArmweld:Destroy() end
        if LLegweld then LLegweld:Destroy() end
        if RLegmweld then RLegmweld:Destroy() end
        

      if HeadHandle then
        HeadHandle.CFrame = rig:FindFirstChild("Head").CFrame * CFrame.new(0,0.5,0)
      end
      if TorsoHandle then
        TorsoHandle.CFrame = rig:FindFirstChild("Torso").CFrame
      end
      if LArmHandle then
        LArmHandle.CFrame = rig:FindFirstChild("Left Arm").CFrame * CFrame.Angles(math.rad(90),math.rad(90),0)
      end
      if RArmHandle then
        RArmHandle.CFrame = rig:FindFirstChild("Right Arm").CFrame * CFrame.Angles(math.rad(90),math.rad(90),0)
      end
      if LLegHandle then
        LLegHandle.CFrame = rig:FindFirstChild("Left Leg").CFrame * CFrame.Angles(math.rad(90),math.rad(90),0)
      end
      if RLegHandle then
        RLegHandle.CFrame = rig:FindFirstChild("Right Leg").CFrame * CFrame.Angles(math.rad(90),math.rad(90),0)
      end
        
    local movedir = rig:FindFirstChild("Humanoid").MoveDirection
    
    if movedir.Magnitude >= 0.1 then
      rig:FindFirstChild("HumanoidRootPart").CFrame = rig:FindFirstChild("HumanoidRootPart").CFrame + movedir * Speed
    end
                end
              end
            end
end
end
end
end
Run.Heartbeat:Wait()
    end)
end)

local Estado = " "

local isPlaySitEmote = false

Run.Heartbeat:Connect(function(deltaTime)
  if rigHumanoid then
    local state = rigHumanoid:GetState()
    
    if isPlaySitEmote == false then
    if state == Enum.HumanoidStateType.Jumping then
    Estado = "Saltando"
    
    elseif state == Enum.HumanoidStateType.Freefall then
    Estado = "Cayendo"
  
    elseif rigHumanoid.MoveDirection.Magnitude >= 0.1 then
    Estado = "Caminando"
  
    elseif rigHumanoid.MoveDirection.Magnitude <= 0 then
      Estado = "Idle"
    else
      Estado = "Ninguno"
    end
  
    end
end
end)




local RootJoint = rig:FindFirstChild("HumanoidRootPart"):FindFirstChild("RootJoint")
local neck = rig:FindFirstChild("Torso"):FindFirstChild("Neck")
local LeftShoulder = rig:FindFirstChild("Torso"):FindFirstChild("Left Shoulder")
local RightShoulder = rig:FindFirstChild("Torso"):FindFirstChild("Right Shoulder")
local LeftHip = rig:FindFirstChild("Torso"):FindFirstChild("Left Hip")
local RightHip = rig:FindFirstChild("Torso"):FindFirstChild("Right Hip")

local function CFMul(a,b)
  return a * b
end

local function angles(x,y,z)
  return CFrame.Angles(x,y,z)
end

local sine = 0

local SegundaZancada = false

Run.Heartbeat:Connect(function(dt)
  sine += dt * 3
  local deltaTime = 1 / 10
  
  local zancada = math.floor(sine * 2) % 2 == 1

  if Estado == "Idle" then
  
  if RootJoint then
    local Rootobjetivo = CFMul(CFrame.new(0,2+1*math.sin(sine*1.5),0),angles(-1.5707963267948966,0.2617993877991494*math.sin(sine*2),3.141592653589793))
    RootJoint.C0 = RootJoint.C0:Lerp(Rootobjetivo,deltaTime)
  end
  
  if neck then
    local NeckObjetivo = CFMul(CFrame.new(0,1,0),angles(-1.9198621771937625+0.17453292519943295*math.sin(sine*2.5),0,3.6651914291880923))
    neck.C0 = neck.C0:Lerp(NeckObjetivo,deltaTime)
  end
  
  if LeftShoulder then
    local LeftShoulderObjetivo = CFMul(CFrame.new(-1.4,0.5+0.2*math.sin(sine*2.5),-0.5),angles(1.3962634015954636+0.08726646259971647*math.sin(sine*2),0.8726646259971648,1.0471975511965976))
    LeftShoulder.C0 = LeftShoulder.C0:Lerp(LeftShoulderObjetivo,deltaTime)
  end
  
  if RightShoulder then
    local RightShoulderObjetivo = CFMul(CFrame.new(1,0.5,0),angles(2.0943951023931953+0.17453292519943295*math.sin(sine*1),2.0943951023931953,2.0943951023931953))
    RightShoulder.C0 = RightShoulder.C0:Lerp(RightShoulderObjetivo,deltaTime)
  end
  
  if LeftHip then
    local LeftHipObjetivo = CFMul(CFrame.new(-1,-0.7,-0.7),angles(-0.5235987755982988+0.17453292519943295*math.sin(sine*2.5),-1.0471975511965976,0))
    LeftHip.C0 = LeftHip.C0:Lerp(LeftHipObjetivo,deltaTime)
  end
  
  if RightHip then
    local RightHipObjetivo = CFMul(CFrame.new(1,-1,0),angles(-0.5235987755982988-0.17453292519943295*math.sin(sine*2.5),1.9198621771937625,0.008726646259971648*math.sin(sine*2.5)))
    RightHip.C0 = RightHip.C0:Lerp(RightHipObjetivo,deltaTime)
  end
  
  elseif Estado == "Caminando" then
    
    if RootJoint then
      local RootobjetivoRun = CFMul(CFrame.new(0,-0.1+0.1*math.sin(sine*10),0),angles(-1.5707963267948966,0,3.141592653589793))
      RootJoint.C0 = RootJoint.C0:Lerp(RootobjetivoRun,deltaTime)
    end
    
    if neck then
      local NeckObjetivoRun = CFMul(CFrame.new(0,1,0),angles(-2.0943951023931953,0,3.141592653589793))
      neck.C0 = neck.C0:Lerp(NeckObjetivoRun,deltaTime)
    end
    
    if RightShoulder then
      local RightShoulderObjetivoRun = CFMul(CFrame.new(1,0.5+0.05*math.sin(sine*10),0),angles(-0.03490658503988659,0.5235987755982988,-0.5235987755982988))
      RightShoulder.C0 = RightShoulder.C0:Lerp(RightShoulderObjetivoRun,deltaTime)
    end
    
    if LeftShoulder then
      local LeftShoulderObjetivoRun = CFMul(CFrame.new(-1,0.5+0.05*math.sin(sine*10),0),angles(-0.03490658503988659,-0.5235987755982988,0.5235987755982988))
      LeftShoulder.C0 = LeftShoulder.C0:Lerp(LeftShoulderObjetivoRun,deltaTime)
    end
    
    if RightHip then
      local RightHipObjetivoRun = CFMul(CFrame.new(1,-1+0.1*math.sin(sine*2.5),0),angles(0,1.5707963267948966,0.6981317007977318*math.sin(sine*5)))
      RightHip.C0 = RightHip.C0:Lerp(RightHipObjetivoRun,deltaTime)
    end
    
    if LeftHip then
      local LeftHipObjetivoRun = CFMul(CFrame.new(-1,-1+0.1*math.sin(sine*2.5),0),angles(0,-1.5707963267948966,0.6981317007977318*math.sin(sine*5)))
      LeftHip.C0 = LeftHip.C0:Lerp(LeftHipObjetivoRun,deltaTime)
    end
    
  elseif Estado == "Saltando" then
    if RootJoint then
      local RootobjetivoJump = CFMul(CFrame.new(0,0,0),angles(-1.5707963267948966,0,3.141592653589793))
      RootJoint.C0 = RootJoint.C0:Lerp(RootobjetivoJump,deltaTime)
    end
    if  LeftShoulder then
      local LeftShoulderObjetivoJump = CFMul(CFrame.new(-1,0.5,0.3),angles(-0.3490658503988659,-1.0471975511965976,0))
      LeftShoulder.C0 = LeftShoulder.C0:Lerp(LeftShoulderObjetivoJump,deltaTime)
    end
    if RightShoulder then
      local RightShoulderObjetivoJump = CFMul(CFrame.new(1,0.5,0.3),angles(-0.3490658503988659,1.0471975511965976,0))
      RightShoulder.C0 = RightShoulder.C0:Lerp(RightShoulderObjetivoJump,deltaTime)
    end
    if RightHip then
      local RightHipObjetivoJump = CFMul(CFrame.new(1,-0.3,-1),angles(-0.5235987755982988,1.5707963267948966,0))
      RightHip.C0 = RightHip.C0:Lerp(RightHipObjetivoJump,deltaTime)
    end
    if LeftHip then
      local LeftHipObjetivoJump = CFMul(CFrame.new(-1,-1,-0.7),angles(-0.5235987755982988,-1.3962634015954636,0))
      LeftHip.C0 = LeftHip.C0:Lerp(LeftHipObjetivoJump,deltaTime)
    end
    if neck then
      local NeckObjetivoJump = CFMul(CFrame.new(0,1,0),angles(-1.5707963267948966,0,3.141592653589793)) 
      neck.C0 = neck.C0:Lerp(NeckObjetivoJump,deltaTime)
    end
  elseif Estado == "Cayendo" then
    
    if RootJoint then
    local RootobjetivoFall = CFMul(CFrame.new(0,0,0),angles(-1.6580627893946132,0,3.141592653589793))
    RootJoint.C0 = RootJoint.C0:Lerp(RootobjetivoFall,deltaTime)
    end
    
    if neck then
    local NeckobjetivoFall = CFMul(CFrame.new(0,1,0),angles(-1.5707963267948966,0,3.141592653589793))
    neck.C0 = neck.C0:Lerp(NeckobjetivoFall,deltaTime)
    end
    
    if RightShoulder then
    local RightShoulderobjetivoFall = CFMul(CFrame.new(1,0.9,-0.4),angles(3.141592653589793,2.792526803190927,-0.8726646259971648))
    RightShoulder.C0 = RightShoulder.C0:Lerp(RightShoulderobjetivoFall,deltaTime)
    end
    
    if LeftShoulder then
    local LeftShoulderobjetivoFall = CFMul(CFrame.new(-1,0.9,-0.4),angles(3.141592653589793,-2.792526803190927,0.8726646259971648))
    LeftShoulder.C0 = LeftShoulder.C0:Lerp(LeftShoulderobjetivoFall,deltaTime)
    end
    
    if RightHip then
    local RightHipobjetivoFall = CFMul(CFrame.new(1,-1,0.3),angles(0,0.8726646259971648,0.3490658503988659))
    RightHip.C0 = RightHip.C0:Lerp(RightHipobjetivoFall,deltaTime)
    end
    
    if LeftHip then
    local LeftHipobjetivoFall = CFMul(CFrame.new(-1,-1,0.3),angles(0,-0.8726646259971648,-0.3490658503988659))
    LeftHip.C0 = LeftHip.C0:Lerp(LeftHipobjetivoFall,deltaTime)
    end
  end

if isPlaySitEmote then
  
  if RootJoint then
    local RootJointObjetivo = CFMul(CFrame.new(0,-1.6,0),angles(-1.1344640137963142,0,3.141592653589793))
    RootJoint.C0 = RootJoint.C0:Lerp(RootJointObjetivo,deltaTime)
  end
  
  if neck then
    local neckObjetivo = CFMul(CFrame.new(0,1,0),angles(-1.9198621771937625,0.3490658503988659*math.sin(sine*3),3.141592653589793))
    neck.C0 = neck.C0:Lerp(neckObjetivo,deltaTime)
  end
  
  if RightShoulder then
    local RightShoulderObjetivo = CFMul(CFrame.new(1,0.5,0.5),angles(-0.6981317007977318,1.5707963267948966,0))
    RightShoulder.C0 = RightShoulder.C0:Lerp(RightShoulderObjetivo,deltaTime)
  end
  
  if LeftShoulder then
    local LeftShoulderObjetivo = CFMul(CFrame.new(-1,0.5,0.5),angles(-0.6981317007977318,-1.5707963267948966,0))
    LeftShoulder.C0 = LeftShoulder.C0:Lerp(LeftShoulderObjetivo,deltaTime)
  end
  
  if RightHip then
    local RightHipObjetivo = CFMul(CFrame.new(1,-1,0),angles(1.0471975511965976+0.17453292519943295*math.sin(sine*2.5),1.5707963267948966,0))
    RightHip.C0 = RightHip.C0:Lerp(RightHipObjetivo,deltaTime)
  end
  
  if LeftHip then
    local LeftHipObjetivo = CFMul(CFrame.new(-1,-1,0),angles(1.0471975511965976+0.17453292519943295*math.sin(sine*-2.5),-1.5707963267948966,0)) 
    LeftHip.C0 = LeftHip.C0:Lerp(LeftHipObjetivo,deltaTime)
  end
end
end)

local uis = game:GetService("UserInputService")

uis.InputBegan:Connect(function(input)
  if input.KeyCode == Enum.KeyCode.F then
    if isPlaySitEmote == false then
    isPlaySitEmote = true
    elseif isPlaySitEmote == true then
      isPlaySitEmote = false
    end
end
end)


LeftHip.C0=Lerp(LeftHip.C0,cfMul(cf(-1,-0.5,-0.6),angles(-0.5235987755982988,-1.5707963267948966,0)),deltaTime)  AccessoryWeld.C0=Lerp(AccessoryWeld.C0,cfMul(cf(-0.0032386777456849813,0.1935257911682129,0.18658447265625),angles(3.141592653589793,0,3.141592653589793)),deltaTime)  AccessoryWeld.C0=Lerp(AccessoryWeld.C0,cf(-0.00006103515625,0.08627533912658691,-0.004791259765625),deltaTime)  AccessoryWeld.C0=Lerp(AccessoryWeld.C0,cfMul(cf(0.46598052978515625,-0.10890470445156097,1.101987834317697e-09),angles(0,-1.5707963267948966,0)),deltaTime)  RightShoulder.C0=Lerp(RightShoulder.C0,cfMul(cf(1.3,1,0),angles(0.17453292519943295+0.3490658503988659*sin(sine*-1),0,3.6651914291880923)),deltaTime)  RootJoint.C0=Lerp(RootJoint.C0,cfMul(cf(0,3+1*sin(sine*1),0),angles(-0.17453292519943295,0,3.141592653589793)),deltaTime)  LeftShoulder.C0=Lerp(LeftShoulder.C0,cfMul(cf(-1,0.5,0),angles(-0.8726646259971648,-1.5707963267948966,0.5235987755982988*sin(sine*1))),deltaTime)  RightHip.C0=Lerp(RightHip.C0,cfMul(cf(1,-1,0),angles(-0.3490658503988659+0.6981317007977318*sin(sine*-1),1.5707963267948966,0)),deltaTime)  Neck.C0=Lerp(Neck.C0,cfMul(cf(0,1,0),angles(-1.7453292519943295+0.3490658503988659*sin(sine*-1),0,3.141592653589793)),deltaTime)  --MW_animatorProgressSave: LeftLeg,-1,0,0,1,-30,0,0,1,-0.5,0,0,1,-90,,0,1,-0.6,0,0,1,,,0,1,SpikyBlackAnimeHair_Handle,-0.0032386777456849813,0,0,1,180,0,0,1,0.1935257911682129,0,0,1,0,0,0,1,0.18658447265625,0,0,1,180,0,0,1,CowboyHat_Handle,-0.00006103515625,0,0,1,0,0,0,1,0.08627533912658691,0,0,1,0,0,0,1,-0.004791259765625,0,0,1,0,0,0,1,Modernglasses_Handle,0.46598052978515625,0,0,1,0,0,0,1,-0.10890470445156097,0,0,1,-90,0,0,1,1.101987834317697e-09,0,0,1,0,0,0,1,RightArm,1.3,0,0,1,10,20,0,-1,1,0,0,1,,0,0,1,,0,0,1,210,0,0,1,Torso,0,0,0,1,-10,0,0,1,3,1,0,1,0,0,0,1,0,0,0,1,180,0,0,1,LeftArm,-1,0,0,1,-50,0,0,0,0.5,0,0,1,-90,0,0,1,0,0,0,1,0,30,0,1,RightLeg,1,0,0,1,-20,40,0,-1,-1,0,0,1,90,0,0,1,0,0,0,1,0,0,0,1,Head,0,0,0,1,-100,20,0,-1,1,0,0,1,0,0,0,1,0,0,0,1,180,0,0,1